<% provide(:title, "Lista de #{t(:countries)}") %>

<header class="flex flex-col-reverse md:items-center md:flex-row border-b border-white/5 py-4 sm:py-6 mb-2 md:mb-4">
  <div class="sm:flex-auto">
    <h1 class="leading-6 text-xl font-medium">Lista de <%= t(:countries) %> <sup><%= Country.all.count %></sup></h1>
    <p class="mt-2 text-gray-500">Los países se administran para poder relacionarlos con registro de usuarios, proyectos, etc.</p>
  </div>
  <nav class="my-4 sm:flex-none">
    <%= link_to new_admin_country_path, class: 'btn' do %>
    <i class="fas fa-plus"></i> <%= "#{t(:new)} #{t(:country)}" %>
    <% end %>
  </nav>
</header>

<section class="my-8 flow-root">
  <table>
    <thead>
      <tr>
        <th>País</th>
        <th class="hidden lg:table-cell">Código Tel</th>
        <th class="hidden lg:table-cell">Códigos Alfa</th>
        <th><span class="sr-only">Eliminar</span></th>
      </tr>
    </thead>
    <tbody>
      <% @countries.each do |country| %>
      <tr>
        <td class="font-medium text-gray-300">
          <%= link_to country.name_en, edit_admin_country_url(country), class: "" %>
          <small class="block text-gray-500"><%= country.continent %><%= "/#{country.sub_continent.titleize}" if country.sub_continent.present? %></small>
        </td>
        <td class="hidden lg:table-cell"><%= country.code %></td>
        <td class="hidden lg:table-cell"><%= "#{country.alpha_2}/#{country.alpha_3}".upcase %></td>
        <td class="text-center">
          <%= link_to admin_country_path(country), method: :delete, class: "btn danger" , data: { confirm: "¿Estás seguro de eliminar este #{t(:country)}?" } do %>
          <i class='fas fa-trash'></i> Eliminar
          <% end %>
        </td>
      </tr>
      <% end %>
    </tbody>
  </table>
</section>